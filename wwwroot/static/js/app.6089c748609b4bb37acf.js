webpackJsonp([1],{"7kR7":function(t,e){},BL0s:function(t,e){},"ET+H":function(t,e){},HMpo:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("NYxO"),o=a("mtWM"),i=a.n(o),r=a("/ocq"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"vaults row"},t._l(t.vaults,function(e){return a("div",{key:e.id,staticClass:"col-4"},[a("div",{staticClass:"text-center"},[a("router-link",{attrs:{to:{name:"Vault",params:{vaultId:e.id}}}},[a("p",[t._v(t._s(e.name))])]),t._v(" "),a("div",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){t.deleteVault(e)}}},[t._v("Delete Vault")])])],1)])}))])},staticRenderFns:[]};var u={name:"Keeps",mounted:function(){this.$store.dispatch("getKeeps")},data:function(){return{selectedVault:{},newVaultKeep:{},userViewKeep:{}}},computed:{keeps:function(){return this.$store.state.keeps},vaults:function(){return this.$store.state.vaults},activeVault:function(){return this.$store.state.activeVault}},methods:{createVaultKeep:function(t){t.userId=this.user.id,t.vaultId=this.activeVault.id,t.keepId=this.keep.Id,this.$store.dispatch(t)},addKeepToVault:function(t){this.$store.dispatch("createVaultKeep",{keep:t,keepId:t.id,vaultId:this.selectedVault.id})},viewKeep:function(t){t.viewCount++,this.$store.dispatch("editKeep",t),this.userViewKeep=t,console.log(this.userViewKeep),$("#keepMyViewKeep").modal("show")},createKeep:function(){this.$store.dispatch("createKeep",this.newKeep)}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"keeps row"},t._l(t.keeps,function(e,s){return a("div",{key:s,staticClass:"col-4"},[t._v("\n      "+t._s(e.name)+" Views: "+t._s(e.viewCount)+" Keeps: "+t._s(e.keepCount)+"\n      "),a("button",{on:{click:function(a){t.addKeepToVault(e)}}},[t._v("Add to vault")]),t._v(" "),a("button",{on:{click:function(a){t.viewKeep(e)}}},[t._v("View Keep")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedVault,expression:"selectedVault"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedVault=e.target.multiple?a:a[0]}}},t._l(t.vaults,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v("Add to "+t._s(e.name))])}))])})),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"keepMyViewKeep",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.userViewKeep.name))]),t._v(" "),a("img",{attrs:{src:t.userViewKeep.imgURL,alt:""}}),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("p",[t._v(t._s(t.userViewKeep))])]),t._v(" "),t._m(1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[this._v("Save changes")]),this._v(" "),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var p={name:"HelloWorld",data:function(){return{msg:"Welcome to Your KEEPR App",query:"",vault:{name:"",body:""},keep:{name:"",imgUrl:""}}},components:{vaults:a("VU/8")({name:"Vaults",mounted:function(){},data:function(){return{}},computed:{vaults:function(){return this.$store.state.vaults},user:function(){return this.$store.state.user}},methods:{deleteVault:function(t){this.$store.dispatch("deleteVault",t)}}},l,!1,function(t){a("Y+kM")},null,null).exports,keeps:a("VU/8")(u,c,!1,function(t){a("BL0s")},null,null).exports},mounted:function(){this.getVaults()},computed:{user:function(){return this.$store.state.user}},methods:{createKeep:function(){this.$store.dispatch("createKeep",this.keep)},createVault:function(){this.$store.dispatch("createVault",this.vault)},getVaults:function(){this.$store.dispatch("getVaults")},logout:function(){this.$store.dispatch("logout")},selectVault:function(){this.$store.dispatch("selectVault",this.vault)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"background"}},[t._m(0),t._v(" "),a("div",{staticClass:"user form-inline my-2 my-lg-0"},[t._v("\n          "+t._s(t.user.userName)+"\n        ")]),t._v(" "),a("button",{staticClass:"button",on:{click:t.logout}},[t._v("Log Out of Keepr")]),t._v(" "),a("div",{staticClass:"row -flex justify-content-center"},[a("div",{staticClass:"HelloWorld"},[a("div",{staticClass:"desc container-fluid"},[a("h3",[t._v("Submit fav URLs "+t._s(t.user.userName))]),t._v(" "),a("h4",[t._v("Share/Keep in your own vault")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.createVault(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vault.name,expression:"vault.name"}],attrs:{type:"text",placeholder:"vaultname"},domProps:{value:t.vault.name},on:{input:function(e){e.target.composing||t.$set(t.vault,"name",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vault.body,expression:"vault.body"}],attrs:{type:"text",placeholder:"body"},domProps:{value:t.vault.body},on:{input:function(e){e.target.composing||t.$set(t.vault,"body",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Create Vault")])]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.createKeep(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.name,expression:"keep.name"}],attrs:{type:"text",placeholder:"keepname"},domProps:{value:t.keep.name},on:{input:function(e){e.target.composing||t.$set(t.keep,"name",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.imgUrl,expression:"keep.imgUrl"}],attrs:{type:"text",placeholder:"URL"},domProps:{value:t.keep.imgUrl},on:{input:function(e){e.target.composing||t.$set(t.keep,"imgUrl",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.description,expression:"keep.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.keep.description},on:{input:function(e){e.target.composing||t.$set(t.keep,"description",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Create Keep")])])])]),t._v(" "),a("div",[a("vaults")],1),t._v(" "),a("div",[a("keeps")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row d-flex justify-content-center"},[e("h1",[this._v("Keepr")])])}]};var v=a("VU/8")(p,d,!1,function(t){a("blX3")},"data-v-ffe7f198",null).exports,m={name:"auth",data:function(){return{logister:!1,log:{email:"",password:""},newUser:{userName:"",email:"",password:""}}},computed:{currentUser:function(){return this.$store.state.user}},methods:{login:function(){this.$store.dispatch("login",this.log)},userRegister:function(){console.log(this.newUser),this.$store.dispatch("register",this.newUser)},regLog:function(){this.logister=!this.logister}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid d-flex justify-content-center"},[a("div",{staticClass:"jumbotron "},[a("h1",{staticClass:"logoFont"},[t._v("Keepr")]),t._v(" "),a("h5",{staticClass:"logoFont"},[t._v("Hey! Lets login first for complete access to creating vaults! ")]),t._v(" "),t.logister?a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.userRegister(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.userName,expression:"newUser.userName"}],attrs:{type:"text",placeholder:"userName"},domProps:{value:t.newUser.userName},on:{input:function(e){e.target.composing||t.$set(t.newUser,"userName",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("Register")])]),t._v(" "),a("p",{on:{click:t.regLog}},[t._v("Currently a user? Straight to Login!")])]):a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.log.email,expression:"log.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.log.email},on:{input:function(e){e.target.composing||t.$set(t.log,"email",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.log.password,expression:"log.password"}],attrs:{type:"password"},domProps:{value:t.log.password},on:{input:function(e){e.target.composing||t.$set(t.log,"password",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn-btn primary btn-success",attrs:{type:"submit"}},[t._v("login")])]),t._v(" "),a("p",{on:{click:t.regLog}},[t._v("No username? Register here")])])])])},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(t){a("q50I")},null,null).exports,g={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{})},staticRenderFns:[]};var _=a("VU/8")({name:"",data:function(){return{}},computed:{},methods:{}},g,!1,function(t){a("ET+H")},null,null).exports,k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h2",[t._v(t._s(t.vault.name))])])]),t._v(" "),a("div",{staticClass:"keeps row"},t._l(t.keeps,function(e,s){return a("div",{key:s,staticClass:"col-4"},[t._v("\n      "+t._s(e.name)+"\n    ")])}))])},staticRenderFns:[]};var w=a("VU/8")({name:"Vault",components:{},data:function(){return{}},props:["vaultId"],mounted:function(){this.$store.dispatch("getVaultKeeps",this.vaultId),this.$store.dispatch("selectVault",this.vaultId)},computed:{vault:function(){return this.$store.state.activeVault},keeps:function(){return this.$store.state.vaultKeeps}},methods:{}},k,!1,function(t){a("HMpo")},null,null).exports,C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticClass:"row"},[this._m(1),this._v(" "),this._l(this.keeps,function(t){return e("div",{key:t.id,staticClass:"col-3"})})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"offset-4 col-4"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("h2",[this._v("Related Keeps")])])}]};var b=a("VU/8")({name:"Keep",components:{},mounted:function(){},data:function(){return{}},computed:{keep:function(){return this.$store.state.keeps},keeps:function(){return this.$store.state.keeps}},methods:{}},C,!1,function(t){a("7kR7")},null,null).exports;s.a.use(r.a);var V=new r.a({routes:[{path:"/",name:"HelloWorld",component:v},{path:"/Auth",name:"Auth",component:h},{path:"/Favorites",name:"Favorites",component:_},{path:"/vault/:vaultId",props:!0,name:"Vault",component:w},{path:"/keep/:keepId",name:"Keep",component:b}]}),K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NavBar"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[a("div",{staticClass:"navbar-brand"},[t._v("Keepr")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":".navbar-collapse",to:{name:"Home"}}},[t._v(" Home\n            "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":".navbar-collapse",to:{name:"ProfilePage"}}},[t._v("Profile")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"SearchResults"},"data-toggle":"collapse","data-target":".navbar-collapse"}},[t._v("\n            Search Field \n          ")])],1)]),t._v(" "),a("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(e){return e.preventDefault(),t.getSearchResults(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input",attrs:{type:"text",placeholder:"popular pics and videos"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),a("button",{staticClass:"button",attrs:{"data-toggle":"collapse","data-target":".navbar-collapse"},on:{click:t.getSearchResults}},[t._v("Search All Posts")])]),t._v(" "),t.user._id?a("div",{staticClass:"user form-inline my-2 my-lg-0"},[t._v(t._s(t.user.userName)+"\n      ")]):a("div",{staticClass:"form-inline my-2 my-lg-0"},[a("router-link",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":".navbar-collapse",to:{name:"Auth"}}},[t._v("login/register")])],1),t._v(" "),t.user._id?a("button",{staticClass:"button",on:{click:t.logout}},[t._v("Log Out")]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]};var y={name:"App",components:{navBar:a("VU/8")({name:"NavBar",data:function(){return{query:""}},computed:{user:function(){return this.$store.state.user}},methods:{logout:function(){this.$store.dispatch("logout")},getSearchResults:function(){this.$store.dispatch("getSearchResults",this.query)}}},K,!1,function(t){a("sSvC")},null,null).exports},mounted:function(){this.$store.dispatch("authenticate")},data:function(){return{}},computed:{},methods:{}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var x=a("VU/8")(y,U,!1,function(t){a("WFj5")},null,null).exports;s.a.use(n.a);var N=!window.location.host.includes("localhost")?"":"//localhost:5000",R=i.a.create({baseURL:N+"/account/",timeout:3e3,withCredentials:!0}),E=i.a.create({baseURL:N+"/api",timeout:3e3,withCredentials:!0}),S=new n.a.Store({state:{user:{},keeps:[],activeKeep:{},userKeeps:[],vaults:[],favorites:[],vaultKeeps:[],activeVault:{}},mutations:{deleteUser:function(t){t.user={}},setUser:function(t,e){t.user=e},setKeeps:function(t,e){t.keeps=e,console.log(e)},setUserKeeps:function(t,e){t.UserKeeps=e},setNewKeep:function(t,e){t.keeps.unshift(e)},removeKeep:function(t,e){var a=t.userKeeps.findIndex(function(t){return t.id=e});t.userKeeps.splice(a,1)},setActiveKeep:function(t,e){t.activeKeep=e},setVaults:function(t,e){t.vaults=e},setNewVault:function(t,e){t.vaults.unshift(e)},setActiveVault:function(t,e){var a=t.vaults.find(function(t){return t.id==e});t.activeVault=a},removeVault:function(t,e){var a=t.vaults.findIndex(function(t){return t.id==e.id});t.vaults.splice(a,1)},setVaultKeeps:function(t,e){t.vaultKeeps=e},setNewVaultKeep:function(t,e){t.vaultKeeps.unshift(e)}},actions:{getKeeps:function(t){var e=t.commit;t.dispatch;E.get("/keep").then(function(t){e("setKeeps",t.data)}).catch(function(t){console.log(t)})},getVaultKeeps:function(t,e){var a=t.commit;t.dispatch;E.get("/vaultkeeps/"+e).then(function(t){a("setVaultKeeps",t.data)}).catch(function(t){console.log(t)})},createVaultKeep:function(t,e){var a=t.commit,s=t.dispatch;E.post("/vaultkeeps",e).then(function(t){e.keep.keepCount++,s("editKeep",e.keep),a("setNewVaultKeep",t.data)}).catch(function(t){console.log(t)})},getUserKeeps:function(t){var e=t.commit,a=t.state;E.get("/keep/user/"+a.user.id).then(function(t){e("setUserKeeps",t.data)}).catch(function(t){console.log(t)})},createKeep:function(t,e){var a=t.commit,s=t.state;e.author=s.user.username,E.post("/keep",e).then(function(t){a("setNewKeep",t.data)}).catch(function(t){console.log(t)})},activeKeep:function(t,e){(0,t.commit)("setActiveKeep",e)},editKeep:function(t,e){t.commit;var a=t.dispatch;E.put("/keep/"+e.id,e).then(function(t){a("getKeeps")}).catch(function(t){console.log(t)})},selectKeep:function(t,e){var a=t.commit;E.get("/keep/"+e.id).then(function(t){a("setKeeps",t.data),V.push({name:"Keep",params:{keepId:t.data.id}})}).catch(function(t){console.log(t)})},addShare:function(t,e){t.commit,t.dispatch;E.post("/keep/add/"+e.keepId,e).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},addToVault:function(t,e){var a=t.commit,s=(t.dispatch,t.state);E.put("/server/vaultLists/"+s.activeVaultList._id,e).then(function(t){a("setVaultList",t.data)})},addKeepToVault:function(t,e){var a=t.commit;t.dispatch;E.post("/vaultkeep",e).then(function(t){a("setNewVaultKeep",t.data)}).catch(function(t){console.log(t)})},createVault:function(t,e){var a=t.commit;t.dispatch;E.post("vault",e).then(function(t){a("setNewVault",t.data)}).catch(function(t){console.log(t)})},getVaults:function(t){var e=t.commit,a=(t.dispatch,t.state);E.get("vault/author/"+a.user.id).then(function(t){e("setVaults",t.data)}).catch(function(t){console.log(t)})},selectVault:function(t,e){var a=t.commit;t.dispatch;a("setActiveVault",e)},selectedVault:function(t){t.commit,t.dispatch;E.get("/vault/user/"+state)},deleteVault:function(t,e){var a=t.commit;t.dispatch;E.delete("/vault/"+e.id).then(function(t){a("removeVault",t.data)}).catch(function(t){console.log(t)})},deleteKeep:function(t,e){t.commit;var a=t.dispatch;E.delete("keep/"+e).then(function(t){a("getUserKeeps")})},login:function(t,e){var a=t.commit;t.dispatch;R.post("/login",e).then(function(t){console.log("successfully logged in!"),a("setUser",t.data),V.push({name:"HelloWorld"})})},logout:function(t){var e=t.commit;t.dispatch;R.delete("/logout").then(function(t){console.log("Successfully logged out!"),e("deleteUser"),V.push({name:"Login"})})},register:function(t,e){var a=t.commit;t.dispatch;R.post("register",e).then(function(t){console.log("Registration Successful"),a("setUser",t.data),V.push({name:"HelloWorld"})})},authenticate:function(t){var e=t.commit,a=t.dispatch;R.get("authenticate").then(function(t){200==t.status?(e("setUser",t.data),a("getVaults"),V.push({name:"HelloWorld"})):V.push({name:"Auth"})}).catch(function(t){console.log("auth error",t.data)})}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:V,store:S,components:{App:x},template:"<App/>"})},WFj5:function(t,e){},"Y+kM":function(t,e){},blX3:function(t,e){},q50I:function(t,e){},sSvC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6089c748609b4bb37acf.js.map